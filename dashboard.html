<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SpamSlam Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./dashboard.css" />
</head>
<body>
  <div class="app">
    <!-- LEFT NAV -->
    <aside class="sidebar">
      <div class="logo-row">
        <div class="logo-mark">SS</div>
        <div class="brand">SpamSlam</div>
      </div>
      <nav class="side-nav" aria-label="Main">
        <a class="active">Overview</a>
        <a>My footprint</a>
        <a>My reclaims</a>
        <hr/>
        <a>Spread the word</a>
        <a>Blog</a>
      </nav>
    </aside>

    <!-- MAIN -->
    <div class="main">
      <!-- TOP BAR -->
      <header class="topbar">
        <div class="welcome">
          <h1 id="welcomeTitle">Welcome Guest</h1>
          <div id="welcomeEmail" class="small muted">Not connected</div>
        </div>

        <div class="top-actions">
          <div class="top-stats" aria-hidden="true">
            <div class="stat"><svg viewBox="0 0 24 24" width="18" height="18"><path d="M12 4.5C7.305 4.5 3.268 7.065 1 11.25C3.268 15.435 7.305 18 12 18s8.732-2.565 11-6.75C20.732 7.065 16.695 4.5 12 4.5z"></path><circle cx="12" cy="11.25" r="2.25"/></svg><span id="topCompanies">0</span> Companies</div>
            <div class="dot"></div>
            <div class="stat small"><span id="topCompleted">0</span> Completed</div>
          </div>

          <div class="profile" id="profileBlock">
            <button id="connectBtn" class="btn primary">Connect Google</button>
            <div id="profileInfo" class="hidden">
              <img src="" alt="avatar" id="avatar" />
              <div class="profile-name" id="profileName">—</div>
            </div>
          </div>
        </div>
      </header>

      <!-- GRID: Left column narrow + content -->
      <section class="content" aria-live="polite">
        <!-- top cards row -->
        <div class="cards-row">
          <div class="card card-cta">
            <h2>It's time to improve your score</h2>
            <p>Decide which companies you need and reclaim the ones you don't</p>
            <div class="card-cta-actions">
              <button class="btn primary" id="takeActionBtn">Take action</button>
            </div>
          </div>

          <div class="card card-summary">
            <div class="big-num" id="companiesBig">0</div>
            <div class="card-summary-text">websites holding your data were found in your footprint</div>
            <div class="card-summary-actions">
              <button class="btn outline" id="seeCompanies">See which companies</button>
              <button class="icon-btn" id="shareBtn" title="Share">⤴</button>
            </div>
          </div>
        </div>

        <!-- second row small cards -->
        <div class="cards-row smalls">
          <div class="card card-progress">
            <h3>Your data ownership progress</h3>
            <div class="gauge" aria-hidden="true">
              <svg width="220" height="120" viewBox="0 0 220 120" role="img" aria-label="Progress gauge">
                <path class="g-bg" d="M20 100 A80 80 0 0 1 200 100" fill="none" stroke="#eee" stroke-width="18" stroke-linecap="round"></path>
                <path class="g-fill" d="M20 100 A80 80 0 0 1 20 100" fill="none" stroke="#7c5cff" stroke-width="18" stroke-linecap="round"></path>
                <text x="110" y="78" text-anchor="middle" class="g-percent" id="gPercent">0%</text>
              </svg>
            </div>
            <div class="small-footer">actions taken</div>
          </div>

          <div class="card card-activity">
            <h3>Your activity</h3>
            <div class="activity-grid">
              <div class="activity-item">
                <div class="big" id="actNew">0</div>
                <div class="label">New companies</div>
              </div>
              <div class="activity-item">
                <div class="big" id="actReclaims">0</div>
                <div class="label">Data reclaims</div>
              </div>
              <div class="activity-item">
                <div class="big" id="actNeeded">0</div>
                <div class="label">Marked as needed</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Companies toolbar -->
        <div class="panel toolbar" role="region" aria-label="Companies toolbar">
          <div class="left">
            <div class="search-wrap">
              <input id="searchInput" placeholder="Search companies or sender..." />
            </div>
            <select id="sortSelect" class="select" aria-label="Sort companies">
              <option value="freq">Sort: Frequent</option>
              <option value="recent">Sort: Recent</option>
              <option value="alpha">Sort: A → Z</option>
            </select>

            <div class="bulk">
              <label><input type="checkbox" id="selectAll"/> All</label>
              <button class="btn small" id="bulkUnsub">Unsubscribe</button>
              <button class="btn small" id="bulkDelete">Request Deletion</button>
            </div>
          </div>

          <div class="right">
            <div class="pagination" id="paginationWrap" aria-hidden="true"></div>
          </div>
        </div>

        <!-- Companies grid -->
        <div id="companiesGrid" class="companies-grid" aria-live="polite"></div>

        <!-- bottom pagination -->
        <div class="pager" id="pagerBottom" role="navigation" aria-label="Pagination"></div>
      </section>
    </div>
  </div>

  <!-- MODALS -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="modal-close" id="modalClose" aria-label="Close">✕</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" aria-hidden="true"></div>

  <!-- Google Identity Services loader -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <!-- split script.js parts will be concatenated in this order -->
  <script src="./dashboard.js"></script>
</body>
</html>
